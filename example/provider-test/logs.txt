I0317 12:55:36.607554   13970 log.go:75] found username for access token
I0317 12:55:37.466798   13970 log.go:75] found username for access token
I0317 12:55:37.713131   13970 log.go:75] Explicitly ignoring and discarding error: no git repository found from /Users/piers/go/src/github.com/pierskarsenbarg/pulumi-dotnet-provider/example/provider-test
I0317 12:55:38.018818   13970 log.go:75] found username for access token
I0317 12:55:38.018973   13970 log.go:75] Stack dev being updated to version 1
I0317 12:55:38.264238   13970 log.go:75] *** Starting Update(preview=false) ***
I0317 12:55:38.265142   13970 log.go:75] gatherPluginsFromProgram(): gathering plugins from language host
I0317 12:55:38.265638   13970 log.go:75] GetPluginPath(language, nodejs, <nil>): found on $PATH /Users/piers/go/bin/pulumi-language-nodejs
I0317 12:55:38.265818   13970 log.go:75] Launching plugin 'nodejs' from '/Users/piers/go/bin/pulumi-language-nodejs' with args: -root=/Users/piers/go/src/github.com/pierskarsenbarg/pulumi-dotnet-provider/example/provider-test,127.0.0.1:62713
I0317 12:55:38.307024   13970 log.go:75] langhost[nodejs].GetPluginInfo() executing
I0317 12:55:38.307698   13970 log.go:75] langhost[nodejs].GetRequiredPlugins(proj=provider-test,pwd=/Users/piers/go/src/github.com/pierskarsenbarg/pulumi-dotnet-provider/example/provider-test,program=.) executing
I0317 12:55:38.828736   13970 log.go:75] eventSink::Infoerr(<{%reset%}>I0317 12:55:38.828454   13975 main.go:229] one or more errors while discovering plugins: 2 errors occurred:
<{%reset%}>)
I0317 12:55:38.828829   13970 log.go:75] eventSink::Infoerr(<{%reset%}>	* unmarshaling package.json node_modules/@pulumi/myprovider/node_modules/resolve/test/resolver/malformed_package_json/package.json: unexpected end of JSON input
<{%reset%}>)
I0317 12:55:38.828870   13970 log.go:75] eventSink::Infoerr(<{%reset%}>	* unmarshaling package.json node_modules/resolve/test/resolver/malformed_package_json/package.json: unexpected end of JSON input
<{%reset%}>)
I0317 12:55:38.829126   13970 log.go:75] langhost[nodejs].GetRequiredPlugins(proj=provider-test,pwd=/Users/piers/go/src/github.com/pierskarsenbarg/pulumi-dotnet-provider/example/provider-test,program=.) success: #versions=1
I0317 12:55:38.829194   13970 log.go:75] gatherPluginsFromProgram(): plugin nodejs <nil> () is required by language host
I0317 12:55:38.829221   13970 log.go:75] gatherPluginsFromProgram(): plugin myprovider 0.0.1 () is required by language host
I0317 12:55:38.829234   13970 log.go:75] gatherPluginsFromSnapshot(): gathering plugins from snapshot
I0317 12:55:38.829260   13970 log.go:75] ensurePluginsAreInstalled(): beginning
I0317 12:55:38.829334   13970 log.go:75] GetPluginPath(language, nodejs, <nil>): found on $PATH /Users/piers/go/bin/pulumi-language-nodejs
I0317 12:55:38.829353   13970 log.go:75] ensurePluginsAreInstalled(): plugin nodejs <nil> already installed
I0317 12:55:38.829501   13970 log.go:75] GetPluginPath(resource, myprovider, 0.0.1): found on $PATH /Users/piers/go/src/github.com/pierskarsenbarg/pulumi-dotnet-provider/bin/Debug/net6.0/pulumi-resource-myprovider
I0317 12:55:38.829525   13970 log.go:75] ensurePluginsAreInstalled(): plugin myprovider 0.0.1 already installed
I0317 12:55:38.829545   13970 log.go:75] ensurePluginsAreInstalled(): completed
I0317 12:55:38.829574   13970 log.go:75] computeDefaultProviderPlugins(): considering nodejs
I0317 12:55:38.829586   13970 log.go:75] computeDefaultProviderPlugins(): skipping nodejs, not a resource provider
I0317 12:55:38.829600   13970 log.go:75] computeDefaultProviderPlugins(): considering myprovider-0.0.1
I0317 12:55:38.829613   13970 log.go:75] computeDefaultProviderPlugins(): plugin myprovider-0.0.1 selected for package myprovider (first seen)
I0317 12:55:38.829632   13970 log.go:69] computeDefaultProviderPlugins(): summary of default plugins:
I0317 12:55:38.829651   13970 log.go:75]   myprovider      = 0.0.1
I0317 12:55:38.830076   13970 log.go:75] deploymentExecutor.Execute(...): waiting for incoming events
I0317 12:55:38.830133   13970 log.go:75] StepExecutor worker(-2): worker coming online
I0317 12:55:38.830211   13970 log.go:75] StepExecutor worker(-2): worker waiting for incoming chains
I0317 12:55:38.830142   13970 log.go:75] langhost[nodejs].Run(pwd=/Users/piers/go/src/github.com/pierskarsenbarg/pulumi-dotnet-provider/example/provider-test,program=.,#args=0,proj=provider-test,stack=dev,#config=0,dryrun=false) executing
I0317 12:55:38.932063   13970 log.go:75] eventSink::Infoerr(<{%reset%}>I0317 12:55:38.931916   13975 main.go:527] Language host launching process:  /Users/piers/.nvm/versions/node/v18.12.1/bin/node /Users/piers/go/src/github.com/pierskarsenbarg/pulumi-dotnet-provider/example/provider-test/node_modules/@pulumi/pulumi/cmd/run/index.js --monitor 127.0.0.1:62717 --engine 127.0.0.1:62713 --sync /var/folders/69/3w1gr05s2pq36wn49bhyknym0000gn/T/pulumi-node-pipes2113829161 --project provider-test --stack dev --pwd /Users/piers/go/src/github.com/pierskarsenbarg/pulumi-dotnet-provider/example/provider-test --query-mode false --parallel 2147483647 .
<{%reset%}>)
I0317 12:55:39.812364   13970 log.go:75] Registering resource: t=pulumi:pulumi:Stack, name=provider-test-dev, custom=false, remote=false
I0317 12:55:39.812429   13970 log.go:75] eventSink::Debug(<{%reset%}>Registering resource: t=pulumi:pulumi:Stack, name=provider-test-dev, custom=false, remote=false<{%reset%}>)
I0317 12:55:39.822239   13970 log.go:75] ResourceMonitor.SupportsFeature(id: aliasSpecs) = true
I0317 12:55:39.832307   13970 log.go:75] RegisterResource RPC prepared: t=pulumi:pulumi:Stack, name=provider-test-dev
I0317 12:55:39.832375   13970 log.go:75] eventSink::Debug(<{%reset%}>RegisterResource RPC prepared: t=pulumi:pulumi:Stack, name=provider-test-dev<{%reset%}>)
I0317 12:55:39.834726   13970 log.go:75] ResourceMonitor.RegisterResource received: t=pulumi:pulumi:Stack, name=provider-test-dev, custom=false, #props=0, parent=, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}, providers=map[], replaceOnChanges=[], retainOnDelete=false, deletedWith=
I0317 12:55:39.834813   13970 log.go:75] EvalSourceIterator produced a registration: t=pulumi:pulumi:Stack,name=provider-test-dev,#props=0
I0317 12:55:39.834845   13970 log.go:75] deploymentExecutor.Execute(...): incoming event (nil? false, <nil>)
I0317 12:55:39.834860   13970 log.go:75] deploymentExecutor.handleSingleEvent(...): received RegisterResourceEvent
I0317 12:55:39.834921   13970 log.go:75] Planner decided to create 'urn:pulumi:dev::provider-test::pulumi:pulumi:Stack::provider-test-dev' (inputs=map[])
I0317 12:55:39.834945   13970 log.go:75] Checking step create for urn:pulumi:dev::provider-test::pulumi:pulumi:Stack::provider-test-dev
I0317 12:55:39.834966   13970 log.go:75] StepExecutor worker(-2): worker received chain for execution
I0317 12:55:39.834983   13970 log.go:75] StepExecutor worker(-2): worker waiting for incoming chains
I0317 12:55:39.835005   13970 log.go:75] StepExecutor worker(0): launching oneshot worker
I0317 12:55:39.835059   13970 log.go:75] SnapshotManager: Beginning mutation for step `create` on resource `urn:pulumi:dev::provider-test::pulumi:pulumi:Stack::provider-test-dev`
I0317 12:55:39.835075   13970 log.go:75] SnapshotManager.doCreate(urn:pulumi:dev::provider-test::pulumi:pulumi:Stack::provider-test-dev)
I0317 12:55:39.835110   13970 log.go:75] SnapshotManager.markPendingOperation(urn:pulumi:dev::provider-test::pulumi:pulumi:Stack::provider-test-dev, creating)
I0317 12:55:40.133424   13970 log.go:75] StepExecutor worker(0): applying step create on urn:pulumi:dev::provider-test::pulumi:pulumi:Stack::provider-test-dev (preview false)
I0317 12:55:40.133519   13970 log.go:75] SnapshotManager: createSnapshotMutation.End(..., true)
I0317 12:55:40.133551   13970 log.go:75] SnapshotManager.markOperationComplete(urn:pulumi:dev::provider-test::pulumi:pulumi:Stack::provider-test-dev)
I0317 12:55:40.133565   13970 log.go:75] Appended new state snapshot to be written: urn:pulumi:dev::provider-test::pulumi:pulumi:Stack::provider-test-dev
I0317 12:55:40.404647   13970 log.go:75] StepExecutor worker(0): step create on urn:pulumi:dev::provider-test::pulumi:pulumi:Stack::provider-test-dev retired
I0317 12:55:40.404740   13970 log.go:75] ResourceMonitor.RegisterResource operation finished: t=pulumi:pulumi:Stack, urn=urn:pulumi:dev::provider-test::pulumi:pulumi:Stack::provider-test-dev, #outs=0
I0317 12:55:40.413551   13970 log.go:75] RegisterResource RPC finished: resource:provider-test-dev[pulumi:pulumi:Stack]; err: null, resp: urn:pulumi:dev::provider-test::pulumi:pulumi:Stack::provider-test-dev,,,,
I0317 12:55:40.413594   13970 log.go:75] eventSink::Debug(<{%reset%}>RegisterResource RPC finished: resource:provider-test-dev[pulumi:pulumi:Stack]; err: null, resp: urn:pulumi:dev::provider-test::pulumi:pulumi:Stack::provider-test-dev,,,,<{%reset%}>)
I0317 12:55:40.418229   13970 log.go:75] Running program '/Users/piers/go/src/github.com/pierskarsenbarg/pulumi-dotnet-provider/example/provider-test' in pwd '/Users/piers/go/src/github.com/pierskarsenbarg/pulumi-dotnet-provider/example/provider-test' w/ args: 
I0317 12:55:40.418303   13970 log.go:75] eventSink::Debug(<{%reset%}>Running program '/Users/piers/go/src/github.com/pierskarsenbarg/pulumi-dotnet-provider/example/provider-test' in pwd '/Users/piers/go/src/github.com/pierskarsenbarg/pulumi-dotnet-provider/example/provider-test' w/ args: <{%reset%}>)
I0317 12:55:40.806555   13970 log.go:75] Registering resource: t=myprovider:index:MyResource, name=test, custom=true, remote=false
I0317 12:55:40.806594   13970 log.go:75] eventSink::Debug(<{%reset%}>Registering resource: t=myprovider:index:MyResource, name=test, custom=true, remote=false<{%reset%}>)
I0317 12:55:40.807185   13970 log.go:75] handling default provider request for package myprovider-0.0.1
I0317 12:55:40.807217   13970 log.go:75] checking if providers.ProviderRequest{version:(*semver.Version)(0xc000f47ae0), pkg:"myprovider", pluginDownloadURL:""} should be denied
I0317 12:55:40.807227   13970 log.go:75] Did not find a config for 'pulumi'
I0317 12:55:40.807252   13970 log.go:75] newRegisterDefaultProviderEvent(myprovider-0.0.1): using version 0.0.1 from request
I0317 12:55:40.807261   13970 log.go:75] newRegisterDefaultProviderEvent(myprovider-0.0.1): no pluginDownloadURL specified, falling back to default pluginDownloadURL
I0317 12:55:40.807268   13970 log.go:75] newRegisterDefaultProviderEvent(myprovider-0.0.1): default pluginDownloadURL miss, sending empty string to engine
I0317 12:55:40.807288   13970 log.go:75] waiting for default provider for package myprovider-0.0.1
I0317 12:55:40.807297   13970 log.go:75] EvalSourceIterator produced a registration: t=pulumi:providers:myprovider,name=default_0_0_1,#props=1
I0317 12:55:40.807307   13970 log.go:75] deploymentExecutor.Execute(...): incoming event (nil? false, <nil>)
I0317 12:55:40.807313   13970 log.go:75] deploymentExecutor.handleSingleEvent(...): received RegisterResourceEvent
I0317 12:55:40.807337   13970 log.go:75] ProviderRegistry.Check(urn:pulumi:dev::provider-test::pulumi:providers:myprovider::default_0_0_1) executing (#olds=0,#news=1)
I0317 12:55:40.807483   13970 log.go:75] GetPluginPath(resource, myprovider, 0.0.1): found on $PATH /Users/piers/go/src/github.com/pierskarsenbarg/pulumi-dotnet-provider/bin/Debug/net6.0/pulumi-resource-myprovider
I0317 12:55:40.807507   13970 log.go:75] Launching plugin 'myprovider (resource)' from '/Users/piers/go/src/github.com/pierskarsenbarg/pulumi-dotnet-provider/bin/Debug/net6.0/pulumi-resource-myprovider' with args: 127.0.0.1:62713
I0317 12:55:40.832152   13970 log.go:75] RegisterResource RPC prepared: t=myprovider:index:MyResource, name=test
I0317 12:55:40.832342   13970 log.go:75] eventSink::Debug(<{%reset%}>RegisterResource RPC prepared: t=myprovider:index:MyResource, name=test<{%reset%}>)
I0317 12:55:40.832853   13970 log.go:75] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:dev::provider-test::pulumi:pulumi:Stack::provider-test-dev
I0317 12:55:40.832956   13970 log.go:75] eventSink::Debug(<{%reset%}>RegisterResourceOutputs RPC prepared: urn=urn:pulumi:dev::provider-test::pulumi:pulumi:Stack::provider-test-dev<{%reset%}>)
I0317 12:55:40.833272   13970 log.go:75] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:dev::provider-test::pulumi:pulumi:Stack::provider-test-dev, #outs=0
I0317 12:55:40.833327   13970 log.go:75] EvalSourceIterator produced a completion: urn=urn:pulumi:dev::provider-test::pulumi:pulumi:Stack::provider-test-dev,#outs=0
I0317 12:55:41.127277   13970 log.go:75] Provider[myprovider, 0xc001093db0].GetPluginInfo() executing
I0317 12:55:41.230157   13970 log.go:75] Provider[myprovider, 0xc001093db0].CheckConfig(urn:pulumi:dev::provider-test::pulumi:providers:myprovider::default_0_0_1) executing (#olds=0,#news=1)
I0317 12:55:41.246334   13970 log.go:75] Marshaling property for RPC[Provider[myprovider, 0xc001093db0].CheckConfig(urn:pulumi:dev::provider-test::pulumi:providers:myprovider::default_0_0_1).news]: version={0.0.1}
I0317 12:55:41.309735   13970 log.go:75] Provider[myprovider, 0xc001093db0].CheckConfig(urn:pulumi:dev::provider-test::pulumi:providers:myprovider::default_0_0_1) unimplemented rpc: returning news as is
I0317 12:55:41.309785   13970 log.go:75] setProvider(urn:pulumi:dev::provider-test::pulumi:providers:myprovider::default_0_0_1::04da6b54-80e4-46f7-96ec-b56ff0331ba9)
I0317 12:55:41.309849   13970 log.go:75] Planner decided to create 'urn:pulumi:dev::provider-test::pulumi:providers:myprovider::default_0_0_1' (inputs=map[version:{0.0.1}])
I0317 12:55:41.309857   13970 log.go:75] Checking step create for urn:pulumi:dev::provider-test::pulumi:providers:myprovider::default_0_0_1
I0317 12:55:41.309878   13970 log.go:75] deploymentExecutor.Execute(...): incoming event (nil? false, <nil>)
I0317 12:55:41.309927   13970 log.go:75] deploymentExecutor.handleSingleEvent(...): received register resource outputs
I0317 12:55:41.309939   13970 log.go:75] StepExecutor worker(-1): registered resource outputs urn:pulumi:dev::provider-test::pulumi:pulumi:Stack::provider-test-dev: old=#0, new=#0
I0317 12:55:41.309942   13970 log.go:75] StepExecutor worker(-2): worker received chain for execution
I0317 12:55:41.309964   13970 log.go:75] StepExecutor worker(-2): worker waiting for incoming chains
I0317 12:55:41.309987   13970 log.go:75] StepExecutor worker(1): launching oneshot worker
I0317 12:55:41.309999   13970 log.go:75] SnapshotManager: Beginning mutation for step `create` on resource `urn:pulumi:dev::provider-test::pulumi:providers:myprovider::default_0_0_1`
I0317 12:55:41.310005   13970 log.go:75] SnapshotManager.doCreate(urn:pulumi:dev::provider-test::pulumi:providers:myprovider::default_0_0_1)
I0317 12:55:41.583898   13970 log.go:75] SnapshotManager.markPendingOperation(urn:pulumi:dev::provider-test::pulumi:providers:myprovider::default_0_0_1, creating)
I0317 12:55:41.584025   13970 log.go:75] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:dev::provider-test::pulumi:pulumi:Stack::provider-test-dev, #outs=0
I0317 12:55:41.607806   13970 log.go:75] RegisterResourceOutputs RPC finished: urn=urn:pulumi:dev::provider-test::pulumi:pulumi:Stack::provider-test-dev; err: null, resp: 
I0317 12:55:41.607875   13970 log.go:75] eventSink::Debug(<{%reset%}>RegisterResourceOutputs RPC finished: urn=urn:pulumi:dev::provider-test::pulumi:pulumi:Stack::provider-test-dev; err: null, resp: <{%reset%}>)
I0317 12:55:41.610791   13970 log.go:75] RegisterResourceOutputs RPC finished: urn=urn:pulumi:dev::provider-test::pulumi:pulumi:Stack::provider-test-dev; err: null, resp: 
I0317 12:55:41.610862   13970 log.go:75] eventSink::Debug(<{%reset%}>RegisterResourceOutputs RPC finished: urn=urn:pulumi:dev::provider-test::pulumi:pulumi:Stack::provider-test-dev; err: null, resp: <{%reset%}>)
I0317 12:55:41.856796   13970 log.go:75] StepExecutor worker(1): applying step create on urn:pulumi:dev::provider-test::pulumi:providers:myprovider::default_0_0_1 (preview false)
I0317 12:55:41.856882   13970 log.go:75] ProviderRegistry.Create(urn:pulumi:dev::provider-test::pulumi:providers:myprovider::default_0_0_1) executing (#news=1)
I0317 12:55:41.856914   13970 log.go:75] GetProvider(urn:pulumi:dev::provider-test::pulumi:providers:myprovider::default_0_0_1::04da6b54-80e4-46f7-96ec-b56ff0331ba9)
I0317 12:55:41.857004   13970 log.go:75] Provider[myprovider, 0xc001093db0].Configure() executing (#vars=1)
I0317 12:55:41.857092   13970 log.go:75] Marshaling property for RPC[Provider[myprovider, 0xc001093db0].Configure().inputs]: version={0.0.1}
I0317 12:55:41.857150   13970 log.go:75] setProvider(urn:pulumi:dev::provider-test::pulumi:providers:myprovider::default_0_0_1::7eca7de2-79b4-4965-8918-cd448d90cbc6)
I0317 12:55:41.857192   13970 log.go:75] SnapshotManager: createSnapshotMutation.End(..., true)
I0317 12:55:41.857215   13970 log.go:75] SnapshotManager.markOperationComplete(urn:pulumi:dev::provider-test::pulumi:providers:myprovider::default_0_0_1)
I0317 12:55:41.857231   13970 log.go:75] Appended new state snapshot to be written: urn:pulumi:dev::provider-test::pulumi:providers:myprovider::default_0_0_1
I0317 12:55:41.868105   13970 log.go:75] Provider[myprovider, 0xc001093db0].Configure() failed: err=The method or operation is not implemented.
I0317 12:55:42.127753   13970 log.go:75] StepExecutor worker(1): step create on urn:pulumi:dev::provider-test::pulumi:providers:myprovider::default_0_0_1 retired
I0317 12:55:42.127835   13970 log.go:75] registered default provider for package myprovider-0.0.1: urn:pulumi:dev::provider-test::pulumi:providers:myprovider::default_0_0_1
I0317 12:55:42.127926   13970 log.go:75] Unmarshaling property for RPC[ResourceMonitor.RegisterResource(myprovider:index:MyResource,test)]: description={this is my resource}
I0317 12:55:42.127986   13970 log.go:75] ResourceMonitor.RegisterResource received: t=myprovider:index:MyResource, name=test, custom=true, #props=1, parent=urn:pulumi:dev::provider-test::pulumi:pulumi:Stack::provider-test-dev, protect=false, provider=urn:pulumi:dev::provider-test::pulumi:providers:myprovider::default_0_0_1::7eca7de2-79b4-4965-8918-cd448d90cbc6, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}, providers=map[], replaceOnChanges=[], retainOnDelete=false, deletedWith=
I0317 12:55:42.128018   13970 log.go:75] EvalSourceIterator produced a registration: t=myprovider:index:MyResource,name=test,#props=1
I0317 12:55:42.128044   13970 log.go:75] deploymentExecutor.Execute(...): incoming event (nil? false, <nil>)
I0317 12:55:42.128058   13970 log.go:75] deploymentExecutor.handleSingleEvent(...): received RegisterResourceEvent
I0317 12:55:42.128095   13970 log.go:75] GetProvider(urn:pulumi:dev::provider-test::pulumi:providers:myprovider::default_0_0_1::7eca7de2-79b4-4965-8918-cd448d90cbc6)
I0317 12:55:42.128160   13970 log.go:75] Provider[myprovider, 0xc001093db0].Check(urn:pulumi:dev::provider-test::myprovider:index:MyResource::test) executing (#olds=0,#news=1
I0317 12:55:42.128190   13970 log.go:75] deploymentExecutor.Execute(...): error handling event: The method or operation is not implemented.
I0317 12:55:42.128210   13970 log.go:75] eventSink::Error(<{%reset%}>The method or operation is not implemented.<{%reset%}>)
I0317 12:55:42.128247   13970 log.go:75] StepExecutor worker(-1): StepExecutor.waitForCompletion(): waiting for worker threads to exit
I0317 12:55:42.128268   13970 log.go:75] StepExecutor worker(-2): worker exiting due to cancellation
I0317 12:55:42.128292   13970 log.go:75] StepExecutor worker(-1): StepExecutor.waitForCompletion(): worker threads all exited
I0317 12:55:42.128311   13970 log.go:75] deploymentExecutor.Execute(...): step executor has completed
I0317 12:55:42.128386   13970 log.go:75] deploymentExecutor.Execute(...): exiting provider canceller
I0317 12:55:42.139493   13970 log.go:75] langhost[nodejs].Run(pwd=/Users/piers/go/src/github.com/pierskarsenbarg/pulumi-dotnet-provider/example/provider-test,program=.,...,dryrun=false) failed: err=error reading from server: read tcp 127.0.0.1:62715->127.0.0.1:62714: use of closed network connection
I0317 12:55:42.139576   13970 log.go:75] Explicitly ignoring and discarding error: rpc error: code = Canceled desc = grpc: the client connection is closing
I0317 12:55:42.153901   13970 log.go:75] Explicitly ignoring and discarding error: 1 error occurred:
	* operation not permitted

I0317 12:55:42.153954   13970 log.go:75] EvalSourceIterator ended with an error: error reading from server: read tcp 127.0.0.1:62715->127.0.0.1:62714: use of closed network connection
I0317 12:55:42.153903   13970 log.go:75] *** Update(preview=false) complete ***
I0317 12:55:42.153965   13970 log.go:75] deploymentExecutor.Execute(...): incoming events goroutine exiting
